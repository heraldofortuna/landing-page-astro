---
import type { InputfieldProps } from "../../types/components";

const {
  label,
  type = 'text',
  name,
  id = name,
  placeholder,
  value,
  required = false,
  disabled = false,
  error,
  onChange,
} = Astro.props as InputfieldProps;
---

<div>
  {label && (
    <label for={id} class="block text-sm font-medium text-gray-600 mb-1">
      {label}
      {required && <span class="text-red-500">*</span>}
    </label>
  )}
  <input
    type={type}
    name={name}
    id={id}
    placeholder={placeholder}
    value={value}
    required={required}
    disabled={disabled}
    class:list={[
      "block w-full h-16 bg-gray text-lg px-4 py-5 border border-neutral-200 rounded-4xl focus:outline-none focus:ring-primary focus:border-primary transition-colors duration-200",
      error ? "border-red-600" : "border-neutral-200"
    ]}
    onchange={onChange}
  />
  {error && (
    <p class="mt-1 text-sm text-red-600">
      {error}
    </p>
  )}
</div>

<style>
  input::placeholder {
    color: #AAAAAA;
    opacity: 1;
  }

  input::-webkit-input-placeholder {
    color: #AAAAAA;
    opacity: 1;
  }

  input::-moz-placeholder {
    color: #AAAAAA;
    opacity: 1;
  }

  input:-ms-input-placeholder {
    color: #AAAAAA;
    opacity: 1;
  }

  input::-ms-input-placeholder {
    color: #AAAAAA;
    opacity: 1;
  }
</style>